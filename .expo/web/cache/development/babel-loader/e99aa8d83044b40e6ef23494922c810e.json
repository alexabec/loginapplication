{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\sarah\\\\Desktop\\\\app projects\\\\loginapp\\\\screens\\\\HomeScreen.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport BackHandler from \"react-native-web/dist/exports/BackHandler\";\nimport { ColorPropType } from \"react-native-web/dist/index\";\nimport axios from 'axios';\n\nvar HomeScreen = function (_React$Component) {\n  _inherits(HomeScreen, _React$Component);\n\n  var _super = _createSuper(HomeScreen);\n\n  function HomeScreen() {\n    var _this;\n\n    _classCallCheck(this, HomeScreen);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.getAccessToken = function _callee() {\n      var clientId, clientSecret, code, getAccessToken, datadata, accessToken, refreshToken;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log('ENTERING GET ACCESS TOKEN FUNCTION');\n              clientId = '8686f50f-5929-4189-98fa-bde898bcdfda';\n              clientSecret = 'AgRV5QNOSZjhf5DbZE0Za5E0';\n              code = '91%3Aa63b1433-74a0-4585-92c9-50d93041ea9b';\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(axios.post('https://auth.bullhornstaffing.com/oauth/token?grant_type=authorization_code&code=' + code + '&client_id=' + clientId + '&client_secret=' + clientSecret));\n\n            case 6:\n              getAccessToken = _context.sent;\n              datadata = getAccessToken['data'];\n              accessToken = datadata['access_token'];\n              refreshToken = datadata['refresh_token'];\n              console.log('access token is : ', accessToken);\n              console.log('ACCESS TOKEN IS VALID');\n\n              _this.loginAPI(accessToken, refreshToken);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.loginAPI = function _callee2(accessToken, refreshToken) {\n      var getData, loginInfo, restToken, restURL;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log('ENTERING LOGIN API FUNCTION');\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(axios.post('https://rest.bullhornstaffing.com/rest-services/login?version=*&access_token=' + accessToken));\n\n            case 3:\n              getData = _context2.sent;\n              loginInfo = getData['data'];\n              restToken = loginInfo.BhRestToken;\n              restURL = loginInfo.restUrl;\n              console.log('rest token and rest URL: ', loginInfo);\n\n              _this.updatePlacementExtension(restURL, restToken, refreshToken);\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.getRefreshToken = function _callee3(refreshToken, id1, id2, id3, id4) {\n      var clientId, clientSecret, ref, getToken, datadata, accessToken, refreshToken2;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              console.log('GENERATING NEW ACCESS TOKEN');\n              clientId = '8686f50f-5929-4189-98fa-bde898bcdfda';\n              clientSecret = 'AgRV5QNOSZjhf5DbZE0Za5E0';\n              ref = '91:dfdd424f-829c-4b99-aee7-4a164132fc18';\n              _context3.next = 6;\n              return _regeneratorRuntime.awrap(axios.post('https://auth.bullhornstaffing.com/oauth/token?grant_type=refresh_token&refresh_token=' + refreshToken + '&client_id=' + clientId + '&client_secret=' + clientSecret));\n\n            case 6:\n              getToken = _context3.sent;\n              datadata = getToken['data'];\n              accessToken = datadata.access_token;\n              refreshToken2 = datadata.refresh_token;\n              console.log('access and refreshen token are: ', datadata);\n\n              _this.loginRefresh(accessToken, refreshToken2, id1, id2, id3, id4);\n\n            case 12:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.loginRefresh = function _callee4(accessToken, refreshToken, id1, id2, id3, id4) {\n      var getData, loginInfo, restToken, restURL;\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              console.log('ENTERING LOGIN API FUNCTION');\n              console.log('PARAMS PASSEDDD   ..> ' + id1, +id2 + id3 + id4);\n              _context4.next = 4;\n              return _regeneratorRuntime.awrap(axios.post('https://rest.bullhornstaffing.com/rest-services/login?version=*&access_token=' + accessToken));\n\n            case 4:\n              getData = _context4.sent;\n              loginInfo = getData['data'];\n              restToken = loginInfo.BhRestToken;\n              restURL = loginInfo.restUrl;\n              console.log('rest token and rest URL: ', restToken);\n\n              if (id1 != null) {\n                _this.updatePlacementExtension(restURL, restToken, refreshToken);\n              } else if (id2 != null) {\n                _this.updateCandidateSalary(restURL, restToken, refreshToken);\n              } else if (id3 != null) {\n                _this.notifyPrematureEnd(restURL, restToken, refreshToken);\n              } else if (id4 != null) {\n                _this.setFilesPrivate(restURL, restToken, refreshToken);\n              }\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.updatePlacementExtension = function _callee5() {\n      var id1, id2, id3, id4, mistake, restToken, restURL, refreshToken, apiChangeReq, i, placement_id, dates, _i, e, placement, getExtValue, extValue, candId, endDate;\n\n      return _regeneratorRuntime.async(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              console.log('fct1. parameters passed   >  ' + restURL + ' AccessToken :  ' + restToken + ' refreshToken ' + refreshToken);\n              console.log('STARTING UPDATE NOW >>> ' + new Date());\n              id1 = 1;\n              id2 = null;\n              id3 = null;\n              id4 = null;\n              mistake = null;\n              restToken = 'c56f2432-02b4-46db-a45b-1bb42e3322b1';\n              restURL = 'https://rest91.bullhornstaffing.com/rest-services/3e1yys/';\n              refreshToken = '91:a5162846-eb2e-4cc9-b421-21c024258051';\n              console.log('GETTING PLACEMENT EXTENSION CHANGE REQUESTS');\n              _context5.next = 13;\n              return _regeneratorRuntime.awrap(axios.get(restURL + \"query/PlacementChangeRequest?fields=id,dateEnd,placement,dateAdded&where=requestType='Placement Extension'&start=0&count=5&BhRestToken=\" + restToken).catch(function (error) {\n                console.log('THERES AN ERRRRROOORRRRR');\n                console.log(error);\n                mistake = error;\n              }));\n\n            case 13:\n              apiChangeReq = _context5.sent;\n\n              for (i = 0; i < apiChangeReq.data.count; i++) {\n                console.log(' >>> ' + JSON.stringify(apiChangeReq.data.data[i]));\n              }\n\n              if (mistake != null) {\n                _this.getRefreshToken(refreshToken, id1, id2, id3, id4);\n              }\n\n              placement_id = [];\n              dates = [];\n\n              for (_i = 0; _i < apiChangeReq.data.count; _i++) {\n                placement_id.push(apiChangeReq.data.data[_i].placement);\n                dates.push(apiChangeReq.data.data[_i].dateEnd);\n              }\n\n              e = 0;\n\n            case 20:\n              if (!(e < placement_id.length)) {\n                _context5.next = 52;\n                break;\n              }\n\n              placement = placement_id[e].id;\n              _context5.next = 24;\n              return _regeneratorRuntime.awrap(axios.get(restURL + \"entity/Placement/\" + placement + \"?fields=customText29,candidate,dateEnd&BhRestToken=\" + restToken).catch(function (error) {\n                console.log('THERES AN ERRRRROOORRRRR');\n                console.log(error);\n                mistake = error;\n              }));\n\n            case 24:\n              getExtValue = _context5.sent;\n\n              if (mistake != null) {\n                _this.getRefreshToken(refreshToken, id1, id2, id3, id4);\n              }\n\n              extValue = JSON.stringify(getExtValue.data.data.customText29);\n              candId = JSON.stringify(getExtValue.data.data.candidate.id);\n              endDate = JSON.stringify(getExtValue.data.data.dateEnd);\n              console.log('this placement id  > ' + placement);\n              console.log('candidate id  >  ' + candId);\n              console.log('current extension value  >  ' + extValue);\n              console.log('End date of placement is > ' + endDate);\n              _context5.next = 35;\n              return _regeneratorRuntime.awrap(axios.post(restURL + \"entity/Candidate/\" + candId + \"?BhRestToken=\" + restToken, {\n                \"dateAvailable\": dates[e]\n              }).then(function (response) {\n                console.log('Updating Candidate available date ', response.data);\n              }).catch(function (error) {\n                console.log('THERES AN ERRRRROOOOOORRRRRRRRRR');\n                console.log(error);\n                mistake = error;\n              }));\n\n            case 35:\n              if (mistake != null) {\n                _this.getRefreshToken(refreshToken, id1, id2, id3, id4);\n              }\n\n              if (!(getExtValue.data.data.customText29 === \"0% - Confirmed that the Consultant will not be Renewed\" || getExtValue.data.data.customText29 === \"25% - Unlikely to be Renewed\" || !getExtValue.data.data.customText29 || getExtValue.data.data.customText29 === null)) {\n                _context5.next = 44;\n                break;\n              }\n\n              console.log('inside if extension value please : > ' + extValue);\n              _context5.next = 40;\n              return _regeneratorRuntime.awrap(axios.post(restURL + \"entity/Placement/\" + placement + \"?BhRestToken=\" + restToken, {\n                customText29: '50% - One chance in Two that the Consultant be renewed'\n              }).then(function (response) {\n                console.log('RESPONSEEE ', response.data);\n                console.log(\"this candidate's availabilty is updated\");\n              }).catch(function (error) {\n                console.log('THERES AN ERRRRROOOOOORRRRRRRRRR');\n                console.log(error);\n                mistake = error;\n              }));\n\n            case 40:\n              console.log('Extension possibility is updated for this placement ' + placement_id[e].id);\n\n              if (mistake != null) {\n                _this.getRefreshToken(refreshToken, id1, id2, id3, id4);\n              }\n\n              _context5.next = 49;\n              break;\n\n            case 44:\n              console.log('outside if extension value please : > ' + getExtValue.data.data.customText29);\n              console.log('no update this placement id  > ' + placement);\n              console.log('no update candidate id  >  ' + candId);\n              console.log('no update current extension value  >  ' + extValue);\n              console.log('no update EXTENSION ALREADY AT 50% OR ABOVE');\n\n            case 49:\n              e++;\n              _context5.next = 20;\n              break;\n\n            case 52:\n              console.log('Everything has been updated.');\n\n              _this.updateCandidateSalary(restURL, restToken, refreshToken);\n\n            case 54:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.updateCandidateSalary = function _callee6(restURL, restToken, refreshToken) {\n      var id1, id2, id3, id4, mistake, getPlacementSalary, placementSalary, editHistoryIdList, i, e, historyId, getPlacement, placementId, getPlacementId, salaryP, candidateId;\n      return _regeneratorRuntime.async(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              id1 = null;\n              id2 = 1;\n              id3 = null;\n              id4 = null;\n              mistake = null;\n              console.log('... ENTERING UPDATE CANDIDATE SALARY FROM PLACEMENT');\n              _context6.next = 8;\n              return _regeneratorRuntime.awrap(axios.get(restURL + \"query/PlacementEditHistoryFieldChange?fields=*&start=10&count=5&where=columnName='salary'&BhRestToken=\" + restToken).catch(function (error) {\n                console.log('THERES AN ERRRRROOORRRR');\n                console.log(error);\n                mistake = error;\n              }));\n\n            case 8:\n              getPlacementSalary = _context6.sent;\n\n              if (mistake != null) {\n                _this.getRefreshToken(refreshToken, id1, id2, id3, id4);\n              }\n\n              placementSalary = getPlacementSalary.data;\n              editHistoryIdList = [];\n\n              for (i = 0; i < getPlacementSalary.data.count; i++) {\n                console.log('All salary updates : ', JSON.stringify(placementSalary.data[i]));\n                editHistoryIdList.push(getPlacementSalary.data.data[i].editHistory.id);\n              }\n\n              e = 0;\n\n            case 14:\n              if (!(e < editHistoryIdList.length)) {\n                _context6.next = 39;\n                break;\n              }\n\n              historyId = editHistoryIdList[e];\n              _context6.next = 18;\n              return _regeneratorRuntime.awrap(axios.get(restURL + \"entity/PlacementEditHistory/\" + historyId + \"?fields=*&BhRestToken=\" + restToken).catch(function (error) {\n                console.log('THERES AN ERRRRROOORRRR');\n                console.log(error);\n                mistake = error;\n              }));\n\n            case 18:\n              getPlacement = _context6.sent;\n\n              if (mistake != null) {\n                _this.getRefreshToken(refreshToken, id1, id2, id3, id4);\n              }\n\n              if (!(getPlacement.data.data.targetEntity !== null)) {\n                _context6.next = 35;\n                break;\n              }\n\n              placementId = getPlacement.data.data.targetEntity.id;\n              _context6.next = 24;\n              return _regeneratorRuntime.awrap(axios.get(restURL + \"entity/Placement/\" + placementId + \"?fields=salary,candidate&BhRestToken=\" + restToken).catch(function (error) {\n                console.log('THERES AN ERRRROOOORRRRR');\n                console.log(error);\n                mistake = error;\n              }));\n\n            case 24:\n              getPlacementId = _context6.sent;\n\n              if (mistake != null) {\n                _this.getRefreshToken(refreshToken, id1, id2, id3, id4);\n              }\n\n              salaryP = getPlacementId.data.data.salary;\n              candidateId = getPlacementId.data.data.candidate.id;\n              console.log('placement id: ' + placementId + '        placement salary: ' + salaryP);\n              console.log('candidate id: ' + candidateId);\n              _context6.next = 32;\n              return _regeneratorRuntime.awrap(axios.post(restURL + \"entity/Candidate/\" + candidateId + \"?BhRestToken=\" + restToken, {\n                salary: salaryP\n              }).then(function (response) {\n                console.log('POSTING SALARY IN CAND. ', response.data);\n              }).catch(function (error) {\n                console.log('THERES AN ERRRRROOORRRR');\n                console.log(error);\n                mistake = error;\n              }));\n\n            case 32:\n              if (mistake != null) {\n                _this.getRefreshToken(refreshToken, id1, id2, id3, id4);\n              }\n\n              _context6.next = 36;\n              break;\n\n            case 35:\n              console.log('this fieldchange has no target entity: ' + JSON.stringify(getPlacement.data.data.targetEntity));\n\n            case 36:\n              e++;\n              _context6.next = 14;\n              break;\n\n            case 39:\n              console.log('all salaries updated :)');\n\n              _this.notifyPrematureEnd(restURL, restToken, refreshToken);\n\n            case 41:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.notifyPrematureEnd = function _callee7(restURL, restToken, refreshToken) {\n      var id1, id2, id3, id4, mistake, apiChangeReq, readable, placementIds, i;\n      return _regeneratorRuntime.async(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              id1 = null;\n              id2 = null;\n              id3 = 1;\n              id4 = null;\n              mistake = null;\n              console.log('...ENTERING NOTIFY RECRUITMENT OF PLACEMENT PREMATURE END + REASON');\n              _context7.next = 8;\n              return _regeneratorRuntime.awrap(axios.get(restURL + \"query/PlacementChangeRequest?fields=placement,terminationReason,dateAdded&where=requestType='Premature End'&count=10&BhRestToken=\" + restToken).catch(function (error) {\n                console.log('THERES AN ERRROOORRRRR');\n                console.log(error);\n                mistake = error;\n              }));\n\n            case 8:\n              apiChangeReq = _context7.sent;\n\n              if (mistake != null) {\n                _this.getRefreshToken(refreshToken, id1, id2, id3, id4);\n              }\n\n              readable = apiChangeReq.data;\n              placementIds = [];\n\n              for (i = 0; i < readable.count; i++) {\n                placementIds.push([readable.data[i].placement.id, readable.data[i].terminationReason]);\n                console.log('placements and premature end reason: ' + JSON.stringify([readable.data[i].placement.id, readable.data[i].terminationReason]));\n              }\n\n              _this.setFilesPrivate(restURL, restToken, refreshToken);\n\n            case 14:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.setFilesPrivate = function _callee8(restURL, restToken, refreshToken) {\n      var id1, id2, id3, id4, mistake, files;\n      return _regeneratorRuntime.async(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              id1 = null;\n              id2 = null;\n              id3 = null;\n              id4 = 1;\n              mistake = null;\n              console.log('...ENTERING SET FILES TO PRIVATE');\n              files = [];\n              _context8.next = 9;\n              return _regeneratorRuntime.awrap(axios.post(restURL + \"query/CandidateFileAttachment?fields=id,candidate,dateAdded,fileType,isPrivate&count=5&start=500&BhRestToken=\" + restToken, {\n                \"where\": \"fileType IN ('SAMPLE         ')\"\n              }).then(function (response) {\n                console.log('Types of files that need to be private: ', response.data);\n                files = response.data;\n\n                for (var i = 0; i < files.count; i++) {\n                  var dateFile = new Date(files.data[i].dateAdded);\n                  console.log('File added on (date) ' + dateFile);\n\n                  if (dateFile < new Date()) {\n                    console.log(' This file is older than today');\n                  }\n\n                  if (files.data[i].isPrivate === false) {\n                    console.log('This should indicate FALSE: ' + files.data[i].isPrivate);\n                    axios.post(restURL + \"entity/CandidateFileAttachment/\" + files.data[i].id + \"?fields=*&BhRestToken=\" + restToken, {\n                      \"isPrivate\": true\n                    }).then(function (response) {\n                      console.log('Private status is now: ', response.data);\n                    }).catch(function (error) {\n                      console.log('THERES AN ERRRROOORRRRR');\n                      console.log(error);\n                      mistake = error;\n                    });\n\n                    if (mistake != null) {\n                      this.getRefreshToken(refreshToken, id1, id2, id3, id4);\n                    }\n                  } else {\n                    console.log(JSON.stringify(files.data[i].id) + ' this file is already PRIVATE');\n                  }\n                }\n\n                console.log('UPDATE FINISHED THANKS :):):)');\n              }).catch(function (error) {\n                console.log(error);\n                mistake = error;\n              }));\n\n            case 9:\n              if (mistake != null) {\n                _this.getRefreshToken(refreshToken, id1, id2, id3, id4);\n              }\n\n              console.log('UPDATE FINISHED NOW >>> ' + new Date());\n\n            case 11:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    return _this;\n  }\n\n  _createClass(HomeScreen, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: {\n          height: 100,\n          backgroundColor: 'black',\n          flexDirection: 'row'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: {\n          width: '33%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 21\n        }\n      }), React.createElement(View, {\n        style: {\n          width: '33%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: '#fff',\n          fontWeight: 'bold',\n          fontSize: 15,\n          marginTop: 50,\n          alignSelf: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 25\n        }\n      }, \"K       W       I       Q\")), React.createElement(View, {\n        style: {\n          width: '33%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 21\n        }\n      })), React.createElement(View, {\n        style: {\n          height: 1,\n          backgroundColor: 'gray',\n          width: '66%',\n          alignSelf: 'flex-end',\n          marginTop: 30,\n          marginBottom: 40\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 17\n        }\n      }), React.createElement(View, {\n        style: {\n          marginBottom: -25\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 22,\n          color: 'gray',\n          alignSelf: 'flex-end',\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 21\n        }\n      }, \"WELCOME TO THE HOME PAGE, A FEED CAN APPEAR HERE\")), React.createElement(View, {\n        style: {\n          height: 50,\n          marginBottom: 10,\n          marginTop: 20,\n          alignSelf: 'center',\n          width: '60%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: this.updatePlacementExtension,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 25,\n          color: 'white',\n          alignSelf: 'center',\n          marginTop: 2\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 25\n        }\n      }, \"GET CODE\"))));\n    }\n  }]);\n\n  return HomeScreen;\n}(React.Component);\n\nexport { HomeScreen as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexWrap: 'nowrap',\n    alignItems: 'stretch',\n    backgroundColor: '#000',\n    justifyContent: 'flex-start',\n    borderLeftWidth: 5,\n    borderRightWidth: 5\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#fff',\n    marginTop: 10\n  },\n  images: {\n    width: 300,\n    height: 300,\n    alignSelf: 'center',\n    marginTop: -5,\n    marginRight: 20,\n    flexWrap: 'nowrap'\n  },\n  shop: {\n    color: '#fff',\n    fontSize: 17,\n    marginBottom: 10,\n    fontWeight: 'bold',\n    alignSelf: 'flex-start'\n  }\n});","map":{"version":3,"sources":["C:/Users/sarah/Desktop/app projects/loginapp/screens/HomeScreen.js"],"names":["React","ColorPropType","axios","HomeScreen","getAccessToken","console","log","clientId","clientSecret","code","post","datadata","accessToken","refreshToken","loginAPI","getData","loginInfo","restToken","BhRestToken","restURL","restUrl","updatePlacementExtension","getRefreshToken","id1","id2","id3","id4","ref","getToken","access_token","refreshToken2","refresh_token","loginRefresh","updateCandidateSalary","notifyPrematureEnd","setFilesPrivate","Date","mistake","get","catch","error","apiChangeReq","i","data","count","JSON","stringify","placement_id","dates","push","placement","dateEnd","e","length","id","getExtValue","extValue","customText29","candId","candidate","endDate","then","response","getPlacementSalary","placementSalary","editHistoryIdList","editHistory","historyId","getPlacement","targetEntity","placementId","getPlacementId","salaryP","salary","candidateId","readable","placementIds","terminationReason","files","dateFile","dateAdded","isPrivate","styles","container","height","backgroundColor","flexDirection","width","color","fontWeight","fontSize","marginTop","alignSelf","marginBottom","Component","StyleSheet","create","flex","flexWrap","alignItems","justifyContent","borderLeftWidth","borderRightWidth","title","images","marginRight","shop"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { View, Text, TouchableHighlight, TouchableOpacity, StyleSheet, ScrollView, ActivityIndicator, BackHandler, ColorPropType } from 'react-native';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\nexport default class HomeScreen extends React.Component {\r\n\r\n    getAccessToken = async () => {\r\n\r\n        console.log('ENTERING GET ACCESS TOKEN FUNCTION');\r\n\r\n        var clientId = '8686f50f-5929-4189-98fa-bde898bcdfda';\r\n        var clientSecret = 'AgRV5QNOSZjhf5DbZE0Za5E0';\r\n        var code = '91%3Aa63b1433-74a0-4585-92c9-50d93041ea9b';\r\n\r\n        var getAccessToken = await axios.post('https://auth.bullhornstaffing.com/oauth/token?grant_type=authorization_code&code=' + code + '&client_id=' + clientId + '&client_secret=' + clientSecret)\r\n        var datadata = getAccessToken['data']\r\n        var accessToken = datadata['access_token']\r\n        var refreshToken = datadata['refresh_token']\r\n\r\n        console.log('access token is : ', accessToken);\r\n\r\n        // if (datadata == null) {\r\n        //     console.log('ACCESS TOKEN IS EXPIRED');\r\n\r\n        //     this.getRefreshToken(refreshToken);\r\n\r\n        // }\r\n\r\n        console.log('ACCESS TOKEN IS VALID');\r\n        this.loginAPI(accessToken, refreshToken);\r\n    }\r\n\r\n    loginAPI = async (accessToken, refreshToken) => {\r\n\r\n        console.log('ENTERING LOGIN API FUNCTION');\r\n\r\n        var getData = await axios.post('https://rest.bullhornstaffing.com/rest-services/login?version=*&access_token=' + accessToken)\r\n        var loginInfo = getData['data']\r\n        var restToken = loginInfo.BhRestToken\r\n        var restURL = loginInfo.restUrl\r\n\r\n        console.log('rest token and rest URL: ', loginInfo);\r\n\r\n        this.updatePlacementExtension(restURL, restToken, refreshToken);\r\n    }\r\n\r\n    getRefreshToken = async (refreshToken, id1, id2, id3, id4) => {\r\n\r\n\r\n        console.log('GENERATING NEW ACCESS TOKEN');\r\n\r\n        var clientId = '8686f50f-5929-4189-98fa-bde898bcdfda';\r\n        var clientSecret = 'AgRV5QNOSZjhf5DbZE0Za5E0';\r\n        var ref = '91:dfdd424f-829c-4b99-aee7-4a164132fc18';\r\n\r\n        var getToken = await axios.post('https://auth.bullhornstaffing.com/oauth/token?grant_type=refresh_token&refresh_token=' + refreshToken + '&client_id=' + clientId + '&client_secret=' + clientSecret)\r\n        var datadata = getToken['data']\r\n        var accessToken = datadata.access_token\r\n        var refreshToken2 = datadata.refresh_token\r\n\r\n        console.log('access and refreshen token are: ', datadata);\r\n\r\n        this.loginRefresh(accessToken, refreshToken2, id1, id2, id3, id4);\r\n    }\r\n\r\n    loginRefresh = async (accessToken, refreshToken, id1, id2, id3, id4) => {\r\n\r\n        console.log('ENTERING LOGIN API FUNCTION');\r\n        console.log('PARAMS PASSEDDD   ..> ' + id1, + id2 + id3 + id4)\r\n\r\n        var getData = await axios.post('https://rest.bullhornstaffing.com/rest-services/login?version=*&access_token=' + accessToken)\r\n        var loginInfo = getData['data']\r\n        var restToken = loginInfo.BhRestToken\r\n        var restURL = loginInfo.restUrl\r\n\r\n        console.log('rest token and rest URL: ', restToken);\r\n\r\n        if (id1 != null) {\r\n            this.updatePlacementExtension(restURL, restToken, refreshToken);\r\n        }\r\n        else if (id2 != null) {\r\n            this.updateCandidateSalary(restURL, restToken, refreshToken)\r\n        }\r\n        else if (id3 != null) {\r\n            this.notifyPrematureEnd(restURL, restToken, refreshToken);\r\n        }\r\n        else if (id4 != null) {\r\n            this.setFilesPrivate(restURL, restToken, refreshToken);\r\n        }\r\n    }\r\n\r\n    // getPlacementDates = async () => {\r\n\r\n    //     console.log('starting function.............')\r\n    //     var restToken = 'e03da462-29c8-4c27-96ec-5b2450f6eefc'\r\n    //     var restURL = 'https://rest91.bullhornstaffing.com/rest-services/3e1yys/'\r\n\r\n    //     // https://rest91.bullhornstaffing.com/rest-services/3e1yys/search/Placement?BhRestToken=0e643ec2-3187-4c8f-93b4-d0ca932fe642&query=isDeleted:0&fields=id,dateEnd&start=0&count=500\r\n\r\n    //     var init = 0\r\n\r\n    //     var Getplacements = await axios.get(restURL + 'search/Candidate?BhRestToken=' + restToken + '&query=isDeleted:0&fields=id,firstName&start=' + init + '&count=500')\r\n    //     var listOne = []\r\n    //     var total = Getplacements.data.total\r\n\r\n    //     listOne.push(Getplacements['data'])\r\n\r\n    //     console.log('total et start ' + total);\r\n\r\n    //     for (init < total; init = (init + 501);) {\r\n\r\n    //         console.log('FOR EACH ENTERED ' + init);\r\n\r\n    //         var Getplacements2 = await axios.get(restURL + 'search/Candidate?BhRestToken=' + restToken + '&query=isDeleted:0&fields=id,firstName&start=' + init + '&count=500')\r\n    //         listOne.push(Getplacements2['data'])\r\n\r\n    //         console.log('COUNT START   ', Getplacements2.data.start)\r\n\r\n    //         if (init > total) {\r\n    //             console.log('list of all placements ');\r\n    //             console.log(listOne.length)\r\n\r\n    //             return this.comparePlacements(listOne);\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n    // comparePlacements = async (listOne) => {\r\n\r\n    //     console.log('starting function.............')\r\n    //     var restToken = 'e03da462-29c8-4c27-96ec-5b2450f6eefc'\r\n    //     var restURL = 'https://rest91.bullhornstaffing.com/rest-services/3e1yys/'\r\n\r\n    //     // https://rest91.bullhornstaffing.com/rest-services/3e1yys/search/Placement?BhRestToken=0e643ec2-3187-4c8f-93b4-d0ca932fe642&query=isDeleted:0&fields=id,dateEnd&start=0&count=500\r\n\r\n    //     var init2 = 0\r\n\r\n    //     var Getplacements = await axios.get(restURL + 'search/Candidate?BhRestToken=' + restToken + '&query=isDeleted:0&fields=id,firstName&start=' + init2 + '&count=500')\r\n    //     var listTwo = []\r\n    //     var total = Getplacements.data.total\r\n\r\n    //     listTwo.push(Getplacements['data'])\r\n\r\n    //     console.log('total et start ' + total);\r\n\r\n    //     for (init2 < total; init2 = (init2 + 501);) {\r\n\r\n    //         console.log('2ND FOR EACH ENTERED ' + init2);\r\n\r\n    //         var Getplacements2 = await axios.get(restURL + 'search/Candidate?BhRestToken=' + restToken + '&query=isDeleted:0&fields=id,firstName&start=' + init2 + '&count=500')\r\n    //         listTwo.push(Getplacements2['data'])\r\n\r\n    //         console.log('COUNT START   ', Getplacements2.data.start)\r\n\r\n    //         if (init2 > total) {\r\n    //             console.log('2nd list of all placements ');\r\n    //             console.log(listTwo.length)\r\n\r\n    //             for (var i = 0; i < listOne.length; i++)\r\n    //                 if (listOne[i]['firstName'] != listTwo[i]['firstName'])\r\n    //                     return \"False\";\r\n    //             return \"True\";\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n    // ******************* AUTOMATISME MISE A JOUR A 50% DE CHANCE + AVAIL. DATE CANDIDAT LORSQUE PLACEMENT ALLONGE ******************** //\r\n\r\n   // updatePlacementExtension = async (restURL, restToken, refreshToken) => {\r\n        updatePlacementExtension = async () => {\r\n        console.log('fct1. parameters passed   >  ' + restURL + ' AccessToken :  ' + restToken + ' refreshToken ' + refreshToken)\r\n        console.log('STARTING UPDATE NOW >>> ' + new Date)\r\n\r\n        var id1 = 1\r\n        var id2 = null\r\n        var id3 = null\r\n        var id4 = null\r\n        var mistake = null\r\n\r\n        var restToken = 'c56f2432-02b4-46db-a45b-1bb42e3322b1'\r\n        var restURL = 'https://rest91.bullhornstaffing.com/rest-services/3e1yys/'\r\n        var refreshToken = '91:a5162846-eb2e-4cc9-b421-21c024258051'\r\n\r\n        console.log('GETTING PLACEMENT EXTENSION CHANGE REQUESTS')\r\n\r\n\r\n        var apiChangeReq = await axios.get(restURL + \"query/PlacementChangeRequest?fields=id,dateEnd,placement,dateAdded&where=requestType='Placement Extension'&start=0&count=5&BhRestToken=\" + restToken)\r\n            .catch(function (error) {\r\n                console.log('THERES AN ERRRRROOORRRRR')\r\n                console.log(error);\r\n                mistake = error\r\n            });\r\n\r\n        for (let i = 0; i < apiChangeReq.data.count; i++)\r\n\r\n            console.log(' >>> ' + JSON.stringify(apiChangeReq.data.data[i]))\r\n\r\n        if (mistake != null) {\r\n            this.getRefreshToken(refreshToken, id1, id2, id3, id4);\r\n        }\r\n\r\n        var placement_id = []\r\n        var dates = []\r\n\r\n        for (let i = 0; i < apiChangeReq.data.count; i++) {\r\n\r\n            placement_id.push(apiChangeReq.data.data[i].placement)\r\n            dates.push(apiChangeReq.data.data[i].dateEnd)\r\n        }\r\n\r\n      //  console.log('readable data:  >>> ' + JSON.stringify(placement_id))\r\n\r\n        for (let e = 0; e < placement_id.length; e++) {\r\n\r\n            var placement = placement_id[e].id\r\n            var getExtValue = await axios.get(restURL + \"entity/Placement/\" + placement + \"?fields=customText29,candidate,dateEnd&BhRestToken=\" + restToken)\r\n                .catch(function (error) {\r\n                    console.log('THERES AN ERRRRROOORRRRR')\r\n                    console.log(error);\r\n                    mistake = error\r\n                });\r\n\r\n            if (mistake != null) {\r\n                this.getRefreshToken(refreshToken, id1, id2, id3, id4);\r\n            }\r\n            var extValue = JSON.stringify(getExtValue.data.data.customText29)\r\n            var candId = JSON.stringify(getExtValue.data.data.candidate.id)\r\n            var endDate = JSON.stringify(getExtValue.data.data.dateEnd)\r\n\r\n            console.log('this placement id  > ' + placement)\r\n            console.log('candidate id  >  ' + candId)\r\n            console.log('current extension value  >  ' + extValue)\r\n            console.log('End date of placement is > ' + endDate)\r\n\r\n            await axios.post(restURL + \"entity/Candidate/\" + candId + \"?BhRestToken=\" + restToken, {\r\n                \"dateAvailable\": dates[e],\r\n            })\r\n                .then(function (response) {\r\n                    console.log('Updating Candidate available date ', response.data);\r\n                })\r\n                .catch(function (error) {\r\n                    console.log('THERES AN ERRRRROOOOOORRRRRRRRRR')\r\n                    console.log(error);\r\n                    mistake = error\r\n                });\r\n\r\n            if (mistake != null) {\r\n                this.getRefreshToken(refreshToken, id1, id2, id3, id4);\r\n            }\r\n\r\n            if (getExtValue.data.data.customText29 === \"0% - Confirmed that the Consultant will not be Renewed\" || getExtValue.data.data.customText29 === \"25% - Unlikely to be Renewed\" || !getExtValue.data.data.customText29 || getExtValue.data.data.customText29 === null) {\r\n\r\n                console.log('inside if extension value please : > ' + extValue)\r\n\r\n                await axios.post(restURL + \"entity/Placement/\" + placement + \"?BhRestToken=\" + restToken, {\r\n                    customText29: '50% - One chance in Two that the Consultant be renewed',\r\n                })\r\n                    .then(function (response) {\r\n                        console.log('RESPONSEEE ', response.data);\r\n                        console.log(\"this candidate's availabilty is updated\")\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log('THERES AN ERRRRROOOOOORRRRRRRRRR')\r\n                        console.log(error);\r\n                        mistake = error\r\n                    });\r\n                console.log('Extension possibility is updated for this placement ' + placement_id[e].id)\r\n\r\n                if (mistake != null) {\r\n                    this.getRefreshToken(refreshToken, id1, id2, id3, id4);\r\n                }\r\n            }\r\n            else {\r\n                console.log('outside if extension value please : > ' + getExtValue.data.data.customText29)\r\n                console.log('no update this placement id  > ' + placement)\r\n            console.log('no update candidate id  >  ' + candId)\r\n            console.log('no update current extension value  >  ' + extValue)\r\n                console.log('no update EXTENSION ALREADY AT 50% OR ABOVE')\r\n            }\r\n        }\r\n        console.log('Everything has been updated.')\r\n            this.updateCandidateSalary(restURL, restToken, refreshToken)\r\n    }\r\n\r\n\r\n    // ******************* AUTOMATISME MISE A JOUR DU SALAIRE CANDIDAT, PRIS DU SALAIRE PLACEMENT ******************** //\r\n\r\n    updateCandidateSalary = async (restURL, restToken, refreshToken) => {\r\n\r\n        var id1 = null\r\n        var id2 = 1\r\n        var id3 = null\r\n        var id4 = null\r\n        var mistake = null\r\n\r\n        // var restToken = 'b00a9946-4d54-494d-905d-9ed75aa51ac1'\r\n        // var restURL = 'https://rest91.bullhornstaffing.com/rest-services/3e1yys/'\r\n\r\n        console.log('... ENTERING UPDATE CANDIDATE SALARY FROM PLACEMENT')\r\n\r\n        //only updates in Salary, should also make a call for salaries not updated but put in placement\r\n\r\n        var getPlacementSalary = await axios.get(restURL + \"query/PlacementEditHistoryFieldChange?fields=*&start=10&count=5&where=columnName='salary'&BhRestToken=\" + restToken)\r\n            .catch(function (error) {\r\n                console.log('THERES AN ERRRRROOORRRR')\r\n                console.log(error);\r\n                mistake = error\r\n            });\r\n\r\n        if (mistake != null) {\r\n            this.getRefreshToken(refreshToken, id1, id2, id3, id4);\r\n        }\r\n\r\n        var placementSalary = getPlacementSalary.data\r\n        var editHistoryIdList = []\r\n\r\n        for (let i = 0; i < getPlacementSalary.data.count; i++) {\r\n\r\n            console.log('All salary updates : ', JSON.stringify(placementSalary.data[i]))\r\n            editHistoryIdList.push(getPlacementSalary.data.data[i].editHistory.id)\r\n        }\r\n\r\n        for (let e = 0; e < editHistoryIdList.length; e++) {\r\n\r\n            var historyId = editHistoryIdList[e]\r\n\r\n            var getPlacement = await axios.get(restURL + \"entity/PlacementEditHistory/\" + historyId + \"?fields=*&BhRestToken=\" + restToken)\r\n                .catch(function (error) {\r\n                    console.log('THERES AN ERRRRROOORRRR')\r\n                    console.log(error);\r\n                    mistake = error\r\n                });\r\n\r\n            if (mistake != null) {\r\n                this.getRefreshToken(refreshToken, id1, id2, id3, id4);\r\n            }\r\n\r\n\r\n            if (getPlacement.data.data.targetEntity !== null) {\r\n\r\n                var placementId = getPlacement.data.data.targetEntity.id\r\n\r\n                var getPlacementId = await axios.get(restURL + \"entity/Placement/\" + placementId + \"?fields=salary,candidate&BhRestToken=\" + restToken)\r\n                    .catch(function (error) {\r\n                        console.log('THERES AN ERRRROOOORRRRR')\r\n                        console.log(error);\r\n                        mistake = error\r\n                    });\r\n\r\n                if (mistake != null) {\r\n                    this.getRefreshToken(refreshToken, id1, id2, id3, id4);\r\n                }\r\n\r\n                var salaryP = getPlacementId.data.data.salary\r\n                var candidateId = getPlacementId.data.data.candidate.id\r\n\r\n                console.log('placement id: ' + placementId + '        placement salary: ' + salaryP)\r\n                console.log('candidate id: ' + candidateId)\r\n\r\n                await axios.post(restURL + \"entity/Candidate/\" + candidateId + \"?BhRestToken=\" + restToken, {\r\n                    salary: salaryP,\r\n                })\r\n                    .then(function (response) {\r\n                        console.log('POSTING SALARY IN CAND. ', response.data);\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log('THERES AN ERRRRROOORRRR')\r\n                        console.log(error);\r\n                        mistake = error\r\n                    });\r\n\r\n                if (mistake != null) {\r\n                    this.getRefreshToken(refreshToken, id1, id2, id3, id4)\r\n                }\r\n            }\r\n            else {\r\n                console.log('this fieldchange has no target entity: ' + JSON.stringify(getPlacement.data.data.targetEntity))\r\n            }\r\n        }\r\n        console.log('all salaries updated :)')\r\n        this.notifyPrematureEnd(restURL, restToken, refreshToken)\r\n    }\r\n\r\n    // ******************* AUTOMATISME NOTIFIER RECRUTEMENT QUAND PLACEMENT PREMATURE END ******************** //\r\n\r\n    notifyPrematureEnd = async (restURL, restToken, refreshToken) => {\r\n\r\n        var id1 = null\r\n        var id2 = null\r\n        var id3 = 1\r\n        var id4 = null\r\n        var mistake = null\r\n\r\n        // var restToken = '3c59251a-62ae-46b6-be03-f58135a4db24'\r\n        // var restURL = 'https://rest91.bullhornstaffing.com/rest-services/3e1yys/'\r\n\r\n        console.log('...ENTERING NOTIFY RECRUITMENT OF PLACEMENT PREMATURE END + REASON')\r\n\r\n        var apiChangeReq = await axios.get(restURL + \"query/PlacementChangeRequest?fields=placement,terminationReason,dateAdded&where=requestType='Premature End'&count=10&BhRestToken=\" + restToken)\r\n            .catch(function (error) {\r\n                console.log('THERES AN ERRROOORRRRR')\r\n                console.log(error);\r\n                mistake = error\r\n            });\r\n\r\n        if (mistake != null) {\r\n            this.getRefreshToken(refreshToken, id1, id2, id3, id4);\r\n        }\r\n\r\n        var readable = apiChangeReq.data\r\n        var placementIds = []\r\n\r\n        for (let i = 0; i < readable.count; i++) {\r\n\r\n            placementIds.push([readable.data[i].placement.id, readable.data[i].terminationReason])\r\n            console.log('placements and premature end reason: ' + JSON.stringify([readable.data[i].placement.id, readable.data[i].terminationReason]))\r\n\r\n        }\r\n        \r\n        this.setFilesPrivate(restURL, restToken, refreshToken)\r\n\r\n        // notify xyz@cof.com that placements placementIds have been terminated prematurely\r\n    }\r\n\r\n    // ******************* AUTOMATISME METTRE LES FILES DONNEES EN PRIVATE ******************** //\r\n\r\n    setFilesPrivate = async (restURL, restToken, refreshToken) => {\r\n\r\n        var id1 = null\r\n        var id2 = null\r\n        var id3 = null\r\n        var id4 = 1\r\n        var mistake = null\r\n\r\n        // var restToken = '5e6e16af-2700-486c-b771-6a62a21d7037'\r\n        // var restURL = 'https://rest91.bullhornstaffing.com/rest-services/3e1yys/'\r\n\r\n        console.log('...ENTERING SET FILES TO PRIVATE')\r\n\r\n        var files = []\r\n\r\n        // GET WITH POST ALL FILES OF TYPES TO BE PRIVATE\r\n        // var filesAPI = await axios.post(\"https://rest91.bullhornstaffing.com/rest-services/3e1yys/query/CandidateFileAttachment?fields=*&count=1&BhRestToken=\" + restToken, {\r\n        //     \"where\": \"fileType IN ('Onboarding', 'HR - Immigration Document', 'HR - Check Specimen', 'HR - Work Permit', 'HR - ID Copy', 'HR - BackCheck', 'HR - Other Confidential Docs', 'Contractor Record', 'Payroll Record')\",\r\n        // })\r\n        //     .then(function (response) {\r\n        //         console.log('POSTING SALARY IN CAND. ', response.data);\r\n        //         files = response.data;\r\n        //     })\r\n        //     .catch(function (error) {\r\n        //         console.log(error);\r\n        //     });\r\n\r\n        //change post data to accurate fileTypes .. see commented url above\r\n        await axios.post(restURL + \"query/CandidateFileAttachment?fields=id,candidate,dateAdded,fileType,isPrivate&count=5&start=500&BhRestToken=\" + restToken, {\r\n            \"where\": \"fileType IN ('SAMPLE         ')\",\r\n        })\r\n            .then(function (response) {\r\n                console.log('Types of files that need to be private: ', response.data);\r\n                files = response.data\r\n\r\n                for (let i = 0; i < files.count; i++) {\r\n\r\n                    // console.log('trying to get candidate ids   >: ' + JSON.stringify(files.data[i].candidate.id))\r\n\r\n                    // console.log('File type and privacy status: ' + JSON.stringify([files.data[i].id, files.data[i].isPrivate]))\r\n\r\n                    var dateFile = new Date(files.data[i].dateAdded)\r\n\r\n                    console.log('File added on (date) ' + dateFile)\r\n                    //we will need a fixed date v\r\n                    if (dateFile < new Date()) {\r\n\r\n                        console.log(' This file is older than today')\r\n                    }\r\n\r\n                    if (files.data[i].isPrivate === false) {\r\n                        console.log('This should indicate FALSE: ' + files.data[i].isPrivate)\r\n\r\n                        axios.post(restURL + \"entity/CandidateFileAttachment/\" + files.data[i].id + \"?fields=*&BhRestToken=\" + restToken, {\r\n                            \"isPrivate\": true,\r\n                        })\r\n                            .then(function (response) {\r\n                                console.log('Private status is now: ', response.data);\r\n\r\n                            })\r\n                            .catch(function (error) {\r\n                                console.log('THERES AN ERRRROOORRRRR')\r\n                                console.log(error);\r\n                                mistake = error\r\n                            });\r\n                        if (mistake != null) {\r\n                            this.getRefreshToken(refreshToken, id1, id2, id3, id4)\r\n                        }\r\n                    }\r\n\r\n                    else {\r\n                        console.log(JSON.stringify(files.data[i].id) + ' this file is already PRIVATE')\r\n                    }\r\n                }\r\n\r\n                console.log('UPDATE FINISHED THANKS :):):)')\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n                mistake = error\r\n            });\r\n\r\n        if (mistake != null) {\r\n            this.getRefreshToken(refreshToken, id1, id2, id3, id4)\r\n        }\r\n\r\n        console.log('UPDATE FINISHED NOW >>> ' + new Date)\r\n\r\n        //  this.updatePlacementExtension(restURL, restToken, refreshToken);\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n\r\n            <View style={styles.container}>\r\n\r\n                <View style={{ height: 100, backgroundColor: 'black', flexDirection: 'row' }}>\r\n                    <View style={{ width: '33%' }}>\r\n                    </View>\r\n                    <View style={{ width: '33%' }}>\r\n                        <Text style={{ color: '#fff', fontWeight: 'bold', fontSize: 15, marginTop: 50, alignSelf: 'center' }}>K       W       I       Q</Text>\r\n                    </View>\r\n                    <View style={{ width: '33%' }}>\r\n                    </View>\r\n                </View>\r\n                <View style={{ height: 1, backgroundColor: 'gray', width: '66%', alignSelf: 'flex-end', marginTop: 30, marginBottom: 40 }}></View>\r\n                <View style={{ marginBottom: -25 }}>\r\n                    <Text style={{ fontSize: 22, color: 'gray', alignSelf: 'flex-end', fontWeight: 'bold' }}>WELCOME TO THE HOME PAGE, A FEED CAN APPEAR HERE</Text>\r\n                </View>\r\n                <View style={{ height: 50, marginBottom: 10, marginTop: 20, alignSelf: 'center', width: '60%' }}>\r\n                    <TouchableOpacity onPress={this.updatePlacementExtension}>\r\n                        <Text style={{ fontSize: 25, color: 'white', alignSelf: 'center', marginTop: 2 }}>GET CODE</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        flexWrap: 'nowrap',\r\n        alignItems: 'stretch',\r\n        backgroundColor: '#000',\r\n        justifyContent: 'flex-start',\r\n        borderLeftWidth: 5,\r\n        borderRightWidth: 5,\r\n    },\r\n    title: {\r\n        fontSize: 20,\r\n        fontWeight: 'bold',\r\n        color: '#fff',\r\n        marginTop: 10,\r\n    },\r\n    images: {\r\n        width: 300,\r\n        height: 300,\r\n        alignSelf: 'center',\r\n        marginTop: -5,\r\n        marginRight: 20,\r\n        flexWrap: 'nowrap',\r\n    },\r\n    shop: {\r\n        color: '#fff',\r\n        fontSize: 17,\r\n        marginBottom: 10,\r\n        fontWeight: 'bold',\r\n        alignSelf: 'flex-start',\r\n    }\r\n\r\n});\r\n"]},"metadata":{},"sourceType":"module"}